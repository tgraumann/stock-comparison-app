(this["webpackJsonpstock-comparison-app"]=this["webpackJsonpstock-comparison-app"]||[]).push([[0],{207:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(71),s=n.n(r),i=(n(79),n(80),n(4)),o=n(3),l=n(5),d=n.n(l),u=n(10),b=n(16),h=n.n(b),j=function(e){return h.a.get("".concat("https://www.alphavantage.co","/query?function=SYMBOL_SEARCH&keywords=").concat(e,"&apikey=").concat("HH55OSIJ2XUN043S"))},p=function(e){return h.a.get("".concat("https://www.alphavantage.co","/query?function=OVERVIEW&symbol=").concat(e,"&apikey=").concat("3BAL1P37DOL9T67Y"))},x=function(e){return h.a.get("".concat("https://www.alphavantage.co","/query?function=GLOBAL_QUOTE&symbol=").concat(e,"&apikey=").concat("51WJK44LBVCNHI9K"))},O=function(e){return h.a.get("".concat("https://www.alphavantage.co","/query?function=TIME_SERIES_DAILY&symbol=").concat(e[0],"&apikey=").concat("TY7UVYP4P7V9HTN6"))},f=function(e){return h.a.get("".concat("https://www.alphavantage.co","/query?function=TIME_SERIES_DAILY&symbol=").concat(e,"&apikey=").concat("VWXP6PVCIM2HYMUA"))},m=n(0),v=function(e){var t=e.inputValue,n=e.handleClick,a=Object(c.useState)([]),r=Object(o.a)(a,2),s=r[0],i=r[1],l=function(e){n(e)};return Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:(n=e.sent).data.bestMatches&&i(n.data.bestMatches),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with dropdown search: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t.length&&e()}),[t]),Object(m.jsx)("div",{children:s.length>0?Object(m.jsx)("ul",{"data-testid":"dropdown",className:"\r p-0 \r list-unstyled \r shadow \r overflow-auto",style:{width:"250px",maxHeight:"180px"},children:s.map((function(e,t){return Object(m.jsx)("li",{onClick:l,style:{height:"45px",lineHeight:"2.5em"},role:"button",className:"\n                                    border-bottom\n                                    mb-0\n                                    px-1\n                                    dropdownListClass\n                                    bg-".concat(t%2?"light":"white","\n                                "),children:e["1. symbol"]},t)}))}):Object(m.jsx)("p",{className:"bg-light p-2 shadow",style:{width:"250px"},children:"No suggestions..."})})},g=function(e){var t=e.handleStockSelect,n=Object(c.useState)(""),a=Object(o.a)(n,2),r=a[0],s=a[1],i=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.preventDefault());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"\r w-75 \r p-5 \r my-5 \r rounded \r shadow-sm \r border",style:{margin:"0 auto",height:"200px"},children:[Object(m.jsxs)("form",{onSubmit:i,className:"d-flex flex-column w-100 align-items-center",children:[Object(m.jsx)("label",{"data-testid":"label",children:"Search up to 3 stocks and pin them to the dashboard to compare them:"}),Object(m.jsx)("input",{"data-testid":"input",className:"mt-4 p-2",style:{width:"250px"},type:"text",onChange:function(e){s(e.target.value)},value:r})]}),Object(m.jsx)("div",{className:"d-flex justify-content-center",children:""!==r&&Object(m.jsx)(v,{inputValue:r,handleClick:function(e){t(e),s("")}})})]})},w=function(e){var t=e.pinnedStock,n=e.removeStock,r=(e.index,Object(c.useState)("")),s=Object(o.a)(r,2),i=s[0],l=s[1],b=Object(c.useState)(""),h=Object(o.a)(b,2),j=h[0],O=h[1],f=Object(c.useState)(),v=Object(o.a)(f,2),g=v[0],w=v[1],y=Object(c.useState)(""),k=Object(o.a)(y,2),S=k[0],N=k[1],E=Object(c.useState)(),C=Object(o.a)(E,2),I=C[0],L=C[1],F=Object(c.useState)(),T=Object(o.a)(F,2),H=T[0],D=T[1];return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(t);case 3:return n=e.sent,O(n.data.Currency),e.next=7,x(t);case 7:c=e.sent,w(Number(c.data["Global Quote"]["05. price"])),l(n.data.Name),N(c.data["Global Quote"]["10. change percent"]),L(Number(c.data["Global Quote"]["03. high"])),D(Number(c.data["Global Quote"]["04. low"])),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("Error fetching stock data: ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(m.jsxs)("div",{style:{flex:"1 1 0"},className:"\r p-3 \r m-3 \r rounded \r shadow-sm \r border",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"pt-2",children:t}),i?Object(m.jsx)("p",{children:i}):Object(m.jsx)("p",{className:"text-secondary",children:"Name unavailable..."})]}),Object(m.jsx)("span",{className:"\r rounded-circle \r bg-danger \r shadow-sm \r text-white \r text-center \r font-weight-light",style:{height:"30px",width:"30px",padding:"1px"},onClick:function(){n(t)},children:"x"})]}),g&&S?Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)("div",{className:"fs-1",children:"-"===S[0]?Object(m.jsx)("div",{className:"bi bi-arrow-down text-danger text-center"}):Object(m.jsx)("div",{className:"bi bi-arrow-up text-success text-center"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h4",{children:[""!==j?j:"USD"," ",g.toFixed(2)]}),Object(m.jsx)("p",{children:S})]})]}):Object(m.jsx)("p",{className:"text-secondary",children:"Stock data currently unavailable..."}),Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("h5",{children:"Stats:"}),Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"High:"}),I?Object(m.jsx)("td",{children:I.toFixed(2)}):Object(m.jsx)("td",{className:"text-secondary",children:"..."})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Low:"}),H?Object(m.jsx)("td",{children:H.toFixed(2)}):Object(m.jsx)("td",{className:"text-secondary",children:"..."})]})]})})]})]})},y=n(2),k=n(74),S=function(e){var t=e.pinnedStocks,n=Object(c.useState)({}),a=Object(o.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n,c,a,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t);case 3:n=e.sent,c=Object.keys(n.data["Time Series (Daily)"]),a=[],r=Object(y.a)(t),e.prev=7,o=d.a.mark((function e(){var t,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,e.next=3,f(t);case 3:n=e.sent,c=Object.entries(n.data["Time Series (Daily)"]),r=[],c.forEach((function(e){r.push(Number(e[1]["4. close"]))})),a.push({label:t,data:r,backgroundColor:"rgba(255, 99, 132, 0.6)"});case 8:case"end":return e.stop()}}),e)})),r.s();case 10:if((i=r.n()).done){e.next=14;break}return e.delegateYield(o(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(7),r.e(e.t1);case 19:return e.prev=19,r.f(),e.finish(19);case 22:s({labels:c,datasets:a}),e.next=29;break;case 26:e.prev=26,e.t2=e.catch(0),console.log("Error grabbing chart data: ",e.t2);case 29:case"end":return e.stop()}}),e,null,[[0,26],[7,16,19,22]])})));return function(){return e.apply(this,arguments)}}();t.length&&e()}),[t]),Object(m.jsx)("div",{style:{margin:"0 auto",maxWidth:"75vw"},children:t.length>0&&Object(m.jsx)(k.a,{className:"px-5 pt-4 pb-5",data:r,options:{scales:{y:{ticks:{callback:function(e){return"$"+e.toFixed(2)}}}}}})})},N=function(e){var t=e.pinnedStocks,n=e.handleRemoveStock,c=function(e){n(e)},a=function(){for(var e=[],n=0;n<3;n++)void 0!==t[n]?e.push(Object(m.jsx)(w,{pinnedStock:t[n],removeStock:c,index:n},n)):e.push(Object(m.jsx)("div",{className:"\r p-3 \r m-3 \r rounded \r shadow-sm \r border",style:{flex:"1 1 0",minHeight:"300px"},children:Object(m.jsx)("p",{className:"p-5",children:"Pick an additional stock symbol in the search box above to display stock information"})},n));return Object(m.jsx)("div",{className:"container-fluid mx-0 px-0",children:Object(m.jsx)("div",{className:"row",children:e})})};return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"\r px-5 \r p-3 \r rounded-right \r bg-secondary \r text-white \r shadow-sm",style:{width:"350px"},children:"Pinned Stocks"}),Object(m.jsx)("div",{className:"px-5 pt-4 pb-5",children:Object(m.jsx)(a,{})}),t&&Object(m.jsx)(S,{pinnedStocks:t})]})},E=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)("div",{className:"\r container-fluid \r p-5 text-center \r bg-secondary \r shadow",children:Object(m.jsx)("h1",{className:"text-white",children:"Stock Comparison App"})}),Object(m.jsx)(g,{handleStockSelect:function(e){var t=e.target.innerText;n.length<3&&(n.includes(t)?alert("Stock ".concat(t," has already been pinned to the Dashboard.")):r([].concat(Object(i.a)(n),[t])))}}),Object(m.jsx)(N,{pinnedStocks:n,handleRemoveStock:function(e){r(n.filter((function(t){return t!==e})))}})]})};var C=function(){return Object(m.jsx)(a.a.Fragment,{children:Object(m.jsx)(E,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,208)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),I()},79:function(e,t,n){}},[[207,1,2]]]);
//# sourceMappingURL=main.09f64cc6.chunk.js.map